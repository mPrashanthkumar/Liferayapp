<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE service-builder PUBLIC "-//Liferay//DTD Service Builder 6.2.0//EN" "http://www.liferay.com/dtd/liferay-service-builder_6_2_0.dtd">
<service-builder package-path="com.cloud.tags">
	<author>Mohammed Zaheer</author>
	<namespace>cloudtag</namespace>

	<entity name="Designers" local-service="true" remote-service="true" table="designers">

		<column name="designId" type="long" primary="true" id-type="increment" />

		<!-- Audit fields -->
		<column name="userId" type="long" />
		<column name="companyId" type="long" />
		<column name="groupId" type="long" />
		<column name="createDate" type="Date" />
		<column name="modifiedDate" type="Date" />

		<column name="name" type="String" />
		<column name="productTitle" type="String" />
		<column name="description" type="String" />
		<column name="shortDescription" type="String" />
		
		<column name="price" type="String" />
		<column name="public_url" type="String" />
		<column name="short_url" type="String" />
		<column name="slug" type="String" />

		<column name="sizes" type="String"  />		
		<column name="colors" type="String" />
		<column name="brand" type="String" />
		<column name="saleprice" type="String" />
		<column name="retailprice" type="String" />
		<column name="instock" type="String" />
		
		<column name="parentid" type="String" />
		<column name="category" type="String" />
		<column name="productcode" type="String" />
		<column name="barcode" type="String" />
		<column name="matchWith" type="String" />
		<column name="timerDate" type="String" />		
		<column name="tabcurrent" type="boolean" />
		<column name="liked" type="long" />
		<column name="ctapp_shorturl" type="boolean" />
		<column name="ctapp_shorturl_success" type="boolean" />
		<column name="sayduck" type="boolean" />
		
		<!-- Newly added column for v2 -->
		<column name="left_description" type="String"/>
		<column name="right_description" type="String"/>
		
		<!-- Adding new column is active -->
		<column name="isactive" type="boolean" convert-null="false" />
		
		<!-- Future we need to update columns as and when required -->
		
		<order by="desc">
			<order-column name="createDate" />
		</order>
		
		<finder return-type="Collection" name="productCode">
			<finder-column name="productcode"/>
		</finder>
		<finder return-type="Collection" name="byCompanyId">
			<finder-column name="companyId"/>
		</finder>
		<finder return-type="Designers" name="byCompanyIdBarcode">
			<finder-column name="companyId"/>
			<finder-column name="barcode"/>
		</finder>
		
	</entity>
	
	<entity name="DesignersImages" local-service="true" remote-service="true" table="designers_images">
		<column name="designImageId" type="long" primary="true" id-type="increment" />
		
		<column name="designId" type="long" />
		<column name="entity_image1" type="String" />
		<column name="entity_image2" type="String" />
		<column name="entity_image3" type="String" />
		<column name="entity_image4" type="String" />
		<column name="entity_image5" type="String" />
		<column name="entity_image6" type="String" />
		<column name="entity_image7" type="String" />
		<column name="entity_image8" type="String" />
		<column name="entity_image9" type="String" />
		<column name="entity_image10" type="String" />
		<column name="large_image_url" type="String"/>
		<column name="small_image_url" type="String"/>
		<column name="profile_image_url" type="String"/>
		
		<finder return-type="DesignersImages" name="designId">
			<finder-column name="designId"/>
		</finder>		
	</entity>
	
	<entity name="CustomerImages" local-service="true" remote-service="true" table="designers_customer_images">
		<column name="customerImageId" type="long" primary="true" id-type="increment" />
		
		<column name="designerSKU" type="String" />		
		<column name="designerCusImage" type="String" />
		<column name="customerImage" type="String" />
		<column name="customerName" type="String" />
		<column name="customerAddress" type="String" />		
		
		
		<finder return-type="Collection" name="designerSKU">
			<finder-column name="designerSKU"/>
		</finder>		
	</entity>
	
	
	 
	<entity name="Carts" local-service="true" remote-service="false" table="carts">

		<column name="cartId" type="long" primary="true" id-type="increment" />

		<column name="userId" type="long" />
		<column name="createDate" type="Date" />
		<column name="modifiedDate" type="Date" />
		<column name="session_id" type="String" />
		<column name="staffId" type="String" />
		<!--<column name="cartsDesigners" type="Collection" entity="CartsDesigners" mapping-key="cartId" />  -->		
		<finder name="userId" return-type="Collection">
			<finder-column name="userId" />
		</finder>
		
		<finder name="session_id" return-type="Collection">
			<finder-column name="session_id" />
		</finder>
				
	</entity>
	
	<entity name="CartsDesigners" local-service="true" remote-service="false" table="cart_designers">
		
		<column name="cartDesignerId" type="long" primary="true" id-type="increment"   />
		
		<column name="cartId" type="long"  />
		<column name="designId" type="long" />
		<column name="createDate" type="Date" />
		<column name="modifiedDate" type="Date" />	
		<column name="kept" type="boolean" />
		<column name="favorite" type="boolean" />
		<column name="staffId" type="String" />
		<column name="userNote" type="String" />
		<column name="XPComputed" type="boolean" />
				
		<finder name="CartId" return-type="Collection" where="kept = true">
			<finder-column name="cartId" />
		</finder>
		
		<finder name="CartIdIsXPComputed" return-type="Collection"
			where="XPComputed = false">
			<finder-column name="cartId" />
		</finder>
		
		<finder name="CartIdDesignerId" return-type="CartsDesigners" where="kept = true">
			<finder-column name="cartId" />
			<finder-column name="designId" />
		</finder>			
		<finder name="StaffId"  return-type="Collection">
			<finder-column name="staffId"/>
		</finder>
		
	</entity>
	<entity name="DesignersBarcode" local-service="true" remote-service="true" table="designer_barcodes">

		<column name="designerBarcodeId" type="long" primary="true" id-type="increment" />

		<column name="barcodeId" type="long" />
		<column name="designId" type="long" />
		<column name="createDate" type="Date" />
		<column name="modifiedDate" type="Date" />

		<finder name="BarcodeId" return-type="DesignersBarcode">
			<finder-column name="barcodeId" />
		</finder>
	</entity>
	<entity name="Recommendations" local-service="true" remote-service="true" table="recommendations">

		<column name="recId" type="long" primary="true" id-type="increment" />
		<column name="designer1" type="String" />
		<column name="designer2" type="String" />			
		<column name="_type" type="long" />
		<column name="percentage" type="double" />
		<column name="companyId" type="long" />
		
		<!-- Newly added column for v2 -->
		<column name="color_name" type="String"/>
		<column name="color_image" type="String"/>
		
		<finder name="ByDesigner1Type" return-type="Collection">
			<finder-column name="designer1" />
			<finder-column name="_type" />
			<finder-column name="companyId" />
		</finder>
	</entity>
	<entity name="Impressions" local-service="true" remote-service="false" table="Impressions">

		<column name="recId" type="long" primary="true" id-type="increment" />
		<column name="impressionType" type="String" />
		<column name="impressionId" type="String" />
		<column name="impressionAction" type="String" />
		<column name="ipAddress" type="String" />
		<column name="deviceType" type="String" />
		<column name="deviceName" type="String" />
		<column name="deviceWidth" type="String" />
		<column name="ideviceBrowser" type="String" />
		<column name="session_Id" type="String" />
		<column name="companyId" type="String" />
		<column name="createDate" type="Date" />
        <column name="storeDeviceId" type="long"/>
        <column name="staffId" type="String" />
		
		<finder name="ByImpressionTypeAction" return-type="Collection">
			<finder-column name="impressionType" />
			<finder-column name="impressionAction" />
			<finder-column name="session_Id" />
			<finder-column name="companyId" />
		</finder>		
		<finder  name="StoreDevice" return-type="Collection">
			<finder-column name="storeDeviceId" />
		</finder>
		<finder name="StaffId"  return-type="Collection">
			<finder-column name="staffId"/>
		</finder>
	</entity>
	<entity name="StoreDeviceMap" local-service="true" remote-service="true" table="store_device_map">
		<column name="uuid" type="long" primary="true" id-type="increment"/>
		<column name="storeName" type="String"/>
		<column name="deviceMacAddress" type="String"/>
		<column name="storeId" type="long"/>
		
		<!-- Audit fields -->
		<column name="companyId" type="long"/>	
		<column name="groupId" type="long" />
		<column name="createDate" type="Date" />		
		
		<order by="desc">
			<order-column name="createDate"/>
		</order>
		
		<finder name="Device" return-type="Collection">		
			<finder-column name="deviceMacAddress"/>	
		</finder>		
		<finder name="StoreName" return-type="Collection">
			<finder-column name="storeName"/>
		</finder>			
	</entity>
	
	<entity name="StoreInformationMap" local-service="true" remote-service="true" table="store_information_map">
		<column name="uuid" type="long" primary="true" id-type="increment"/>
		<column name="Name" type="String"/>
		<column name="Address" type="String"/>
		
		
		<!-- Audit fields -->
		<column name="companyId" type="long"/>	
		<column name="groupId" type="long" />
		<column name="createDate" type="Date" />		
		
		<order by="desc">
			<order-column name="createDate"/>
		</order>		
		
	</entity>
</service-builder>
